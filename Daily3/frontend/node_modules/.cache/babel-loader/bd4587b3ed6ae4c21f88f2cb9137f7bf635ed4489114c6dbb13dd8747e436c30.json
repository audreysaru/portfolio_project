{"ast":null,"code":"import React,{useEffect,useState}from'react';import jwtDecode from'jwt-decode';import{getProfile,addActivityHistory}from'../api';import Movement from'./Movement';import Meditation from'./Meditation';import MorningPages from'./MorningPages';import'./Homepage.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Homepage=()=>{const[user,setUser]=useState(null);const[currentActivity,setCurrentActivity]=useState(null);useEffect(()=>{const fetchProfile=async()=>{try{const{data}=await getProfile();setUser(data);}catch(err){alert(err.message);}};fetchProfile();},[]);const handleNext=async activity=>{try{await addActivityHistory(activity);if(activity==='Movement'){setCurrentActivity('Meditation');}else if(activity==='Meditation'){setCurrentActivity('Morning Pages');}else{setCurrentActivity(null);alert('Great job today ... have a focused day ahead!');}}catch(err){alert(err.message);}};const handleDone=async activity=>{try{await addActivityHistory(activity);setCurrentActivity(null);alert('Great job today ... have a focused day ahead!');}catch(err){alert(err.message);}};if(!user)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});return/*#__PURE__*/_jsx(\"div\",{children:currentActivity?/*#__PURE__*/_jsxs(_Fragment,{children:[currentActivity==='Movement'&&/*#__PURE__*/_jsx(Movement,{onNext:()=>handleNext('Movement'),onDone:()=>handleDone('Movement')}),currentActivity==='Meditation'&&/*#__PURE__*/_jsx(Meditation,{onNext:()=>handleNext('Meditation'),onDone:()=>handleDone('Meditation')}),currentActivity==='Morning Pages'&&/*#__PURE__*/_jsx(MorningPages,{onDone:()=>handleDone('Morning Pages')})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome, \",user.firstName]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Daily 3 Activities\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentActivity('Movement'),children:\"Movement\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentActivity('Meditation'),children:\"Meditation\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentActivity('Morning Pages'),children:\"Morning Pages\"})})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Activity History\"}),/*#__PURE__*/_jsx(\"ul\",{children:user.activityHistory.map((entry,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[new Date(entry.date).toLocaleDateString(),\": \",entry.activities.join(', ')]},index))})]})});};export default Homepage;","map":{"version":3,"names":["React","useEffect","useState","jwtDecode","getProfile","addActivityHistory","Movement","Meditation","MorningPages","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Homepage","user","setUser","currentActivity","setCurrentActivity","fetchProfile","data","err","alert","message","handleNext","activity","handleDone","children","onNext","onDone","firstName","onClick","activityHistory","map","entry","index","Date","date","toLocaleDateString","activities","join"],"sources":["D:/ALX/Portfolio Project/portfolio_project/Daily3/frontend/src/pages/Homepage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport jwtDecode from 'jwt-decode';\r\nimport { getProfile, addActivityHistory } from '../api';\r\nimport Movement from './Movement';\r\nimport Meditation from './Meditation';\r\nimport MorningPages from './MorningPages';\r\nimport './Homepage.css';\r\n\r\nconst Homepage = () => {\r\n    const [user, setUser] = useState(null);\r\n    const [currentActivity, setCurrentActivity] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchProfile = async () => {\r\n            try {\r\n                const { data } = await getProfile();\r\n                setUser(data);\r\n            } catch (err) {\r\n                alert(err.message);\r\n            }\r\n        };\r\n        fetchProfile();\r\n    }, []);\r\n\r\n    const handleNext = async (activity) => {\r\n        try {\r\n            await addActivityHistory(activity);\r\n            if (activity === 'Movement') {\r\n                setCurrentActivity('Meditation');\r\n            } else if (activity === 'Meditation') {\r\n                setCurrentActivity('Morning Pages');\r\n            } else {\r\n                setCurrentActivity(null);\r\n                alert('Great job today ... have a focused day ahead!');\r\n            }\r\n        } catch (err) {\r\n            alert(err.message);\r\n        }\r\n    };\r\n\r\n    const handleDone = async (activity) => {\r\n        try {\r\n            await addActivityHistory(activity);\r\n            setCurrentActivity(null);\r\n            alert('Great job today ... have a focused day ahead!');\r\n        } catch (err) {\r\n            alert(err.message);\r\n        }\r\n    };\r\n\r\n    if (!user) return <div>Loading...</div>;\r\n\r\n    return (\r\n        <div>\r\n            {currentActivity ? (\r\n                <>\r\n                    {currentActivity === 'Movement' && (\r\n                        <Movement onNext={() => handleNext('Movement')} onDone={() => handleDone('Movement')} />\r\n                    )}\r\n                    {currentActivity === 'Meditation' && (\r\n                        <Meditation onNext={() => handleNext('Meditation')} onDone={() => handleDone('Meditation')} />\r\n                    )}\r\n                    {currentActivity === 'Morning Pages' && (\r\n                        <MorningPages onDone={() => handleDone('Morning Pages')} />\r\n                    )}\r\n                </>\r\n            ) : (\r\n                <div>\r\n                    <h1>Welcome, {user.firstName}</h1>\r\n                    <h2>Daily 3 Activities</h2>\r\n                    <ul>\r\n                        <li>\r\n                            <button onClick={() => setCurrentActivity('Movement')}>Movement</button>\r\n                        </li>\r\n                        <li>\r\n                            <button onClick={() => setCurrentActivity('Meditation')}>Meditation</button>\r\n                        </li>\r\n                        <li>\r\n                            <button onClick={() => setCurrentActivity('Morning Pages')}>Morning Pages</button>\r\n                        </li>\r\n                    </ul>\r\n                    <h2>Activity History</h2>\r\n                    <ul>\r\n                        {user.activityHistory.map((entry, index) => (\r\n                            <li key={index}>{new Date(entry.date).toLocaleDateString()}: {entry.activities.join(', ')}</li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Homepage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}